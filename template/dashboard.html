<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Dashboard | Contact Messages</title>

  <!-- Favicons -->
  <link href="assets/img/logo-rifqi.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&family=Poppins&family=Raleway&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/custom.css" rel="stylesheet">


</head>

<body class="starter-page-page">

  <script>
    (function () {
    const PASSWORD = "123456";
    const AUTH_KEY = "dashboard_auth";

    if (sessionStorage.getItem(AUTH_KEY) !== "true") {
        const input = prompt("Masukkan password untuk mengakses dashboard:");

        if (input === PASSWORD) {
        sessionStorage.setItem(AUTH_KEY, "true");
        } else {
        alert("Password salah!");
        window.location.href = "index.html";
        }
    }
    })();
  </script>

  <!-- ======= Sidebar ======= -->
  <header id="header" class="header dark-background d-flex flex-column">
    <i class="header-toggle d-xl-none bi bi-list"></i>

    <a href="dashboard.html" class="logo d-flex align-items-center justify-content-center">
      <h1 class="sitename">Admin Dashboard</h1>
    </a>

    <nav id="navmenu" class="navmenu">
      <ul>
        <li>
          <a class="active" href="dashboard.html">
            <i class="bi bi-speedometer2 navicon"></i> Dashboard
          </a>
        </li>
        <li>
          <a href="contact.html">
            <i class="bi bi-envelope navicon"></i> Contact Page
          </a>
        </li>
      </ul>
    </nav>
  </header>
  <!-- End Sidebar -->

  <main class="main">
    <!-- Page Title -->
    <div class="page-title dark-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Contact Messages</h1>
      </div>
    </div>

    <body class="p-4">

    <table class="table table-bordered table-striped mt-3">
    <thead class="table-dark">
        <tr>
        <th>Time</th>
        <th>Name</th>
        <th>Email</th>
        <th>Subject</th>
        <th>Message</th>
        </tr>
    </thead>
    <tbody id="tableBody"></tbody>
    </table>

    <script>
    fetch('get_data.php')
    .then(res => res.json())
    .then(data => {
        const tbody = document.getElementById('tableBody');
        data.reverse().forEach(item => {
        tbody.innerHTML += `
            <tr>
            <td>${item.timestamp}</td>
            <td>${item.name}</td>
            <td>${item.email}</td>
            <td>${item.subject}</td>
            <td>${item.message}</td>
            </tr>
        `;
        });
    });
    
    </script>

  </main>

  <footer id="footer" class="footer position-relative light-background">
    <div class="container text-center">
      <p>Â© 2026 Dashboard Contact</p>
    </div>
  </footer>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
  

</body>
</html>
